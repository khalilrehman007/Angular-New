<div class="back-tag-hide">
<app-header2></app-header2>
</div>
<section ngClass="property-valuation-sec">
    <div ngClass="listing-container full-width">
        <div ngClass="heading-title-sec text-center">
            <h2>تقييم العقارات</h2>
            <p>تأكد من ملء جميع الحقول اللازمة وتحميل جميع الملفات المطلوبة..</p>
        </div>
        <div ngClass="listing-property-form-sec">
            <div ngClass="listing-property-ul">
                <mat-list>
                    <mat-list-item ngClass="active"> <a routerLink=""><span ngClass="">1</span>تفاصيل</a>
                    </mat-list-item>
                    <mat-list-item ngClass="active"><a routerLink=""><span ngClass="">2</span>نوع</a></mat-list-item>
                    <mat-list-item ngClass="disabled"> <a routerLink=""><span ngClass="">3</span>وثائق</a>
                    </mat-list-item>
                    <mat-list-item ngClass="disabled"> <a routerLink=""><span ngClass="">4</span>إعادة النظر</a>
                    </mat-list-item>
                    <mat-list-item ngClass="disabled"> <a routerLink=""><span ngClass="">5</span>نوع الشهادة</a>
                    </mat-list-item>
                    <mat-list-item ngClass="disabled"> <a routerLink=""><span ngClass="">6</span>دفع</a>
                    </mat-list-item>
                    <mat-list-item ngClass="disabled"> <a routerLink=""><span ngClass="">7</span>تنزيل التقرير</a>
                    </mat-list-item>
                </mat-list>
            </div>
            <div ngClass="list-property-content">
                <div ngClass="list-property-body">
                    <form [formGroup]="propertyTypeForm">
                        <div ngClass="form-border-wrapper">
                            <div ngClass="list-property-header">
                                <h5 ngClass="h5-heading">نوع العقار</h5>
                                <p>يرجى تقديم نوع الملاءمة الخاص بك للتقييم</p>
                            </div>
                            <div ngClass="deed-numbers">
                                <div ngClass="row">
                                    <div ngClass="col-xl-6 col-lg-6 col-sm-12">
                                        <div ngClass="block-wrapper mb-4">
                                            <label class="h6-design">فئة الملكية <span
                                                    ngClass="required-span">*</span></label>
                                            <div class="checkbox-flex-box two-column max-240 property-cateogary-input">
                                                <div class="checkbox-design position-relative" (click)="loadType(1)">
                                                    <input type="radio" id="Residential" name="property-cateogary"
                                                        value="Residential" *ngIf="formData.PropertyCategoryId == 1"
                                                        checked>
                                                    <input type="radio" id="Residential" name="property-cateogary"
                                                        value="Residential" *ngIf="formData.PropertyCategoryId != 1">
                                                    <button class="checkbox-btn">سكني</button>
                                                </div>
                                                <div class="checkbox-design position-relative" (click)="loadType(2)">
                                                    <input type="radio" id="Commercial" name="property-cateogary"
                                                        value="Commercial" *ngIf="formData.PropertyCategoryId == 2"
                                                        checked>
                                                    <input type="radio" id="Commercial" name="property-cateogary"
                                                        value="Commercial" *ngIf="formData.PropertyCategoryId != 2">
                                                    <button class="checkbox-btn">تجاري</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div ngClass="col-xl-6 col-lg-6 col-sm-12">
                                        <div ngClass="block-wrapper mb-4 select-design">
                                            <label class="h6-design">نوع العقار<span
                                                    ngClass="required-span">*</span></label>
                                            <div class="property-type-input">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>حدد نوع الوحدة</mat-label>
                                                    <mat-select [disableOptionCentering]="true"  [(value)]="formData.PropertyTypeId"
                                                        (selectionChange)="valuationPurpose($event)">
                                                        <mat-option *ngFor="let item of propertyType" [value]="item.id">
                                                            {{item.typeDescriptionAr}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="typeSelected">
                                <div ngClass="row">
                                    <div ngClass="col-xl-12 col-lg-12 col-sm-12">
                                        <div ngClass="block-wrapper mb-4 select-design">
                                            <label class="h6-design">الغرض من التقييم<span
                                                    ngClass="required-span">*</span></label>
                                            <div class="valuation-purpose-input">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>حدد الغرض</mat-label>
                                                    <mat-select [disableOptionCentering]="true"  [(value)]="formData.ValuationPurposeId"
                                                        (selectionChange)="onPurposeSelect($event)">
                                                        <mat-option *ngFor="let item of purposeOfValuation"
                                                            [value]="item.id">
                                                            {{item.purposeDescriptionAr}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div ngClass="col-xl-12 col-lg-12 col-sm-12" *ngIf="!propertyData.hasUnits">
                                        <div ngClass="block-wrapper mb-4">
                                            <label class="h6-design">تفاصيل العقار<span
                                                    ngClass="required-span">*</span></label>
                                            <div class="checkbox-flex-box four-column property-status-input">
                                                <div class="checkbox-design position-relative"
                                                    *ngFor="let item of propertyStatusData;"
                                                    (click)="propertyStatus(item.id, item.statusDescriptionAr)">
                                                    <input type="radio" id="{{item.statusDescriptionAr}}" name="current-status"
                                                        value="{{item.statusDescription}}" *ngIf="formData.PropertyStatusId == item.id" checked>
                                                    <input type="radio" id="{{item.statusDescriptionAr}}" name="current-status"
                                                        value="{{item.statusDescription}}" *ngIf="formData.PropertyStatusId != item.id">
                                                    <button class="checkbox-btn">{{item.statusDescriptionAr}}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div ngClass="col-xl-6 col-lg-6 col-sm-12">
                                        <div ngClass="block-wrapper mb-4">
                                            <label class="h6-design">{{propertyData.numberLabelAr}} <span
                                                    ngClass="required-span">*</span></label>
                                            <div class="apartment-no-input">
                                                <mat-form-field class="full-width input-design-2" appearance="fill">
                                                    <input matInput type="number"
                                                        placeholder="{{propertyData.numberLabelAr}}"
                                                        formControlName="apartmentNo">
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div ngClass="col-xl-6 col-lg-6 col-sm-12">
                                        <div ngClass="block-wrapper mb-4">
                                            <label class="h6-design">عدد المخارج<span
                                                    ngClass="required-span">*</span></label>
                                            <div class="checkbox-flex-box flex-start six-column roads-input"
                                                *ngIf="formData.NoOfRoads == 1">
                                                <div class="checkbox-design position-relative" (click)="getRoads(1)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads"
                                                        checked>
                                                    <button class="checkbox-btn">1</button>
                                                </div>
                                                <div class="checkbox-design position-relative" (click)="getRoads(2)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads">
                                                    <button class="checkbox-btn">2</button>
                                                </div>
                                                <div class="checkbox-design position-relative" (click)="getRoads(3)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads">
                                                    <button class="checkbox-btn">3</button>
                                                </div>
                                            </div>
                                            <div class="checkbox-flex-box flex-start six-column roads-input"
                                                *ngIf="formData.NoOfRoads == 2">
                                                <div class="checkbox-design position-relative" (click)="getRoads(1)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads">
                                                    <button class="checkbox-btn">1</button>
                                                </div>
                                                <div class="checkbox-design position-relative" (click)="getRoads(2)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads"
                                                        checked>
                                                    <button class="checkbox-btn">2</button>
                                                </div>
                                                <div class="checkbox-design position-relative" (click)="getRoads(3)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads">
                                                    <button class="checkbox-btn">3</button>
                                                </div>
                                            </div>
                                            <div class="checkbox-flex-box flex-start six-column roads-input"
                                                *ngIf="formData.NoOfRoads == 3">
                                                <div class="checkbox-design position-relative" (click)="getRoads(1)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads">
                                                    <button class="checkbox-btn">1</button>
                                                </div>
                                                <div class="checkbox-design position-relative" (click)="getRoads(2)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads">
                                                    <button class="checkbox-btn">2</button>
                                                </div>
                                                <div class="checkbox-design position-relative" (click)="getRoads(3)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads"
                                                        checked>
                                                    <button class="checkbox-btn">3</button>
                                                </div>
                                            </div>
                                            <div class="checkbox-flex-box flex-start six-column roads-input"
                                                *ngIf="formData.NoOfRoads != 1 && formData.NoOfRoads != 2 && formData.NoOfRoads != 3">
                                                <div class="checkbox-design position-relative" (click)="getRoads(1)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads">
                                                    <button class="checkbox-btn">1</button>
                                                </div>
                                                <div class="checkbox-design position-relative" (click)="getRoads(2)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads">
                                                    <button class="checkbox-btn">2</button>
                                                </div>
                                                <div class="checkbox-design position-relative" (click)="getRoads(3)">
                                                    <input type="radio" id="roads" name="no-of-roads" value="roads">
                                                    <button class="checkbox-btn">3</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div ngClass="col-xl-6 col-lg-6 col-sm-12">
                                        <div ngClass="block-wrapper mb-4">
                                            <label class="h6-design">عمر العقار<span
                                                    ngClass="required-span">*</span></label>
                                            <div ngClass="position-relative constructionAge-input">
                                                <mat-form-field class="full-width input-design-2" appearance="fill">
                                                    <input matInput type="number" formControlName="constructionAge"
                                                        placeholder="أدخل عمر التكلفة ، على سبيل المثال 10"
                                                        (input)="getValue()">
                                                </mat-form-field>
                                                <p ngClass="input-overlay-layer">سنوات</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div ngClass="col-xl-6 col-lg-6 col-sm-12" *ngIf="propertyData.hasElevation">
                                        <div ngClass="block-wrapper mb-4">
                                            <label class="h6-design">الارتفاع<span
                                                    ngClass="required-span">*</span></label>
                                            <div class="elevation-input">
                                                <mat-form-field class="full-width input-design-2" appearance="fill">
                                                    <input matInput type="text" class="elevation-input"
                                                        placeholder="Enter plot elevation e.g. B+G+10"
                                                        [mask]='"A||A+9||A+99||A+A+9||A+A+99"'
                                                        formControlName="elevation">
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div ngClass="col-xl-6 col-lg-6 col-sm-12">
                                        <div ngClass="block-wrapper mb-4">
                                            <label class="h6-design">{{propertyData.typeDescriptionAr}} حجم في قدم مربع
                                                <span ngClass="required-span">*</span></label>
                                            <div ngClass="position-relative apartment-size-input">
                                                <mat-form-field class="full-width input-design-2" appearance="fill">
                                                    <input matInput type="number" formControlName="apartmentSize"
                                                        placeholder="{{propertyData.typeDescriptionAr}} حجم في قدم مربع">
                                                </mat-form-field>
                                                <p ngClass="input-overlay-layer">قدم مربع</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div ngClass="col-xl-6 col-lg-6 col-sm-12" *ngIf="propertyData.hasBuildUpArea">
                                        <div ngClass="block-wrapper mb-4">
                                            <label class="h6-design">مساحة البناء بالقدم المربع<span ngClass="required-span">*</span></label>
                                            <div ngClass="position-relative buildup-area-input">
                                                <mat-form-field class="full-width input-design-2" appearance="fill">
                                                    <input matInput type="number" formControlName="buildupArea"
                                                        placeholder="أدخل مساحة البناء على سبيل المثال 9000">
                                                </mat-form-field>
                                                <p ngClass="input-overlay-layer">قدم مربع</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div ngClass="col-xl-6 col-lg-6 col-sm-12" *ngIf="propertyData.hasBed">
                                        <div ngClass="block-wrapper mb-4 select-design">
                                            <label class="h6-design">رقم الوحدات</label>
                                            <div class="bedrooms-input">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>حدد عدد غرف النوم</mat-label>
                                                    <mat-select [disableOptionCentering]="true"  [(value)]="formData.Bedrooms"
                                                        (selectionChange)="getBeds($event)">
                                                        <mat-option *ngFor="let listbedrooms of room"
                                                            [value]="listbedrooms.value">
                                                            {{listbedrooms.viewValue}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div ngClass="col-xl-6 col-lg-6 col-sm-12" *ngIf="propertyData.hasBath">
                                        <div ngClass="block-wrapper mb-4 select-design">
                                            <label class="h6-design">حمام</label>
                                            <div class="bathroom-input">
                                                <mat-form-field appearance="fill">
                                                    <mat-label>حدد عدد الحمامات</mat-label>
                                                    <mat-select [disableOptionCentering]="true"  [(value)]="formData.Bathrooms"
                                                        (selectionChange)="getBathroom($event)">
                                                        <mat-option *ngFor="let list of room" [value]="list.value">
                                                            {{list.viewValue}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-12 col-lg-12 col-md-6 col-sm-12"
                                        *ngIf="propertyData.hasFurnishing">
                                        <div ngClass="block-wrapper mb-4">
                                            <label class="h6-design">نوع الاثاث</label>
                                            <div class="checkbox-flex-box autoflex-layout button-same-select furnishing-input">
                                                <div *ngFor="let item of furnishingType">
                                                    <div class="checkbox-design position-relative"
                                                        *ngIf="item.id == formData.FurnishingType"
                                                        (click)="getFurnishingType(item.id,item.nameAR)">
                                                        <input type="radio" id="Furnished" name="furnishing-types"
                                                            value="Furnished" checked>
                                                        <button class="checkbox-btn">{{item.nameAR}}</button>
                                                    </div>
                                                    <div class="checkbox-design position-relative"
                                                        *ngIf="item.id != formData.FurnishingType"
                                                        (click)="getFurnishingType(item.id,item.nameAR)">
                                                        <input type="radio" id="Furnished" name="furnishing-types"
                                                            value="Furnished">
                                                        <button class="checkbox-btn">{{item.nameAR}}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12" *ngIf="propertyData.hasFitting">
                                        <div ngClass="block-wrapper mb-4">
                                            <label class="h6-design">نوع التجهيزات</label>
                                            <div class="checkbox-flex-box four-column button-same-select fitting-input">
                                                <div *ngFor="let item of fittingType">
                                                    <div class="checkbox-design position-relative"
                                                        *ngIf="item.id == formData.FittingType"
                                                        (click)="getFittingType(item.id,item.nameAR)">
                                                        <input type="radio" id="Furnished" name="fitting-types"
                                                            value="Furnished" checked>
                                                        <button class="checkbox-btn">{{item.nameAR}}</button>
                                                    </div>
                                                    <div class="checkbox-design position-relative"
                                                        *ngIf="item.id != formData.FittingType"
                                                        (click)="getFittingType(item.id,item.nameAR)">
                                                        <input type="radio" id="Furnished" name="fitting-types"
                                                            value="Furnished">
                                                        <button class="checkbox-btn">{{item.nameAR}}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ngClass="unit_types-sec-wrap" *ngIf="propertyData.hasUnits">
                                    <div *ngFor="let item of unitHMTL">
                                        <div ngClass="row" id="unit-wrapper-{{item.id}}" *ngIf="item.show">
                                            <div ngClass="col-xl-3 col-lg-3 col-sm-12">
                                                <div ngClass="block-wrapper mb-4 select-design">
                                                    <label class="h6-design">نوع الوحدة<span
                                                            ngClass="required">*</span></label>
                                                    <mat-form-field appearance="fill">
                                                        <mat-label>نوع الوحدة</mat-label>
                                                        <mat-select [disableOptionCentering]="true" >
                                                            <mat-option *ngFor="let item of propertyUnits"
                                                                [value]="item.id">
                                                                {{item.nameAr}}
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div ngClass="col-xl-3 col-lg-3 col-sm-12">
                                                <div ngClass="block-wrapper mb-4">
                                                    <label class="h6-design">إيجار الوحدة في السنة<span
                                                            ngClass="required">*</span></label>
                                                    <mat-form-field class="full-width input-design-2" appearance="fill">
                                                        <input class="no-of-units" matInput type="number"
                                                            placeholder="">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div ngClass="col-xl-3 col-lg-3 col-sm-12">
                                                <div ngClass="block-wrapper mb-4">
                                                    <label class="h6-design">نعم<span
                                                            ngClass="required">*</span></label>
                                                    <mat-form-field class="full-width input-design-2" appearance="fill">
                                                        <input class="vacant" matInput type="number"
                                                            placeholder="">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div ngClass="col-xl-3 col-lg-3 col-sm-12">
                                                <div ngClass="block-wrapper mb-4">
                                                    <label class="h6-design">حجم الوحدة لكل قدم مربع<span
                                                            ngClass="required">*</span></label>
                                                    <mat-form-field class="full-width input-design-2" appearance="fill">
                                                        <input class="size-sq-ft" matInput type="number"
                                                            placeholder="">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div ngClass="col-xl-3 col-lg-3 col-sm-12">
                                                <div ngClass="block-wrapper mb-4">
                                                    <label class="h6-design">رقم الوحدات<span
                                                            ngClass="required">*</span></label>
                                                    <mat-form-field class="full-width input-design-2" appearance="fill">
                                                        <input class="bedroom" matInput type="number"
                                                            placeholder="">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div ngClass="col-xl-3 col-lg-3 col-sm-12">
                                                <div ngClass="block-wrapper mb-4">
                                                    <label class="h6-design">RENT VALUE PER YEAR<span
                                                            ngClass="required">*</span></label>
                                                    <mat-form-field class="full-width input-design-2" appearance="fill">
                                                        <input class="rent-value" matInput type="number"
                                                            placeholder="Eg. 9999999">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div ngClass="col-xl-3 col-lg-3 col-sm-12">
                                                <div ngClass="unit_add-more" (click)="addUnits()">
                                                    <button ngClass="add_unit-btn"><img src="{{plus}}">Add More Unit</button>
                                                </div>
                                            </div>
                                            <div ngClass="col-xl-3 col-lg-3 col-sm-12" *ngIf="item.id != 1">
                                                <div ngClass="unit_add-more" (click)="removeUnits(item.id)">
                                                    <button ngClass="add_unit-btn"><img src="{{minus}}">Remove Unit</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="select-features mb-4" *ngIf="propertyData.hasPropertyFeature && featuresData.length > 0">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div ngClass="select-design select2-design select2-design-full">
                                            <label class="h6-design">حدد الميزات</label>
                                            <select class="select2 features-select" multiple="multiple">
                                                <option *ngFor="let item of featuresData" [value]="item.propertyFeature.id" class="features-item-{{item.propertyFeatureId}}"> {{item.propertyFeature.featureNameAr}}</option>
                                            </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div ngClass="totel_iccum-annum" *ngIf="totalExpenseWrapper || propertyData.hasUnits">
                                    <div ngClass="row">
                                        <div ngClass="col-xl-6 col-lg-6 col-sm-12"
                                            *ngIf="totalExpenseWrapper || !propertyData.hasUnits">
                                            <div ngClass="block-wrapper mb-4">
                                                <label class="h6-design">إجمالي الدخل السنوي<span
                                                        ngClass="required-span">*</span></label>
                                                <div class="income-input">
                                                    <mat-form-field class="full-width input-design-2" appearance="fill">
                                                        <input matInput type="number" formControlName="income"
                                                            placeholder="أدخل إجمالي الدخل على سبيل المثال 5،000،000">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                        <div ngClass="col-xl-6 col-lg-6 col-sm-12">
                                            <div ngClass="block-wrapper mb-4">
                                                <label class="h6-design">إجمالي المصاريف في السنة<span
                                                        ngClass="required-span">*</span></label>
                                                <div class="expense-input">
                                                    <mat-form-field class="full-width input-design-2" appearance="fill">
                                                        <input matInput type="number" formControlName="expense"
                                                            placeholder="دخل إجمالي المصروفات على سبيل المثال 3،500،00">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-right save-continue-sec">
                                <mat-card-actions>
                                    <a routerLink="/ar/valuation/property-detail" class="back-btn">خلف</a>
                                </mat-card-actions>
                                <mat-card-actions (click)="getData()">
                                    <a class="save-continue-btn cursor-pointer">حفظ ومتابعة</a>
                                </mat-card-actions>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<app-loader *ngIf="showLoader"></app-loader>
<app-erroralert [error]="error" (errorResponse)="errorResponse($event)" *ngIf="showError"></app-erroralert>
<app-confirmationbox [message]="confirmMessage" (confirmResponse)="confirmResponse($event)" *ngIf="showConfirm">
</app-confirmationbox>